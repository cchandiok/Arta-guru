<!DOCTYPE html>
<html>
<head>
    <title>Pfizer Stock Analysis</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <h1>üìà Pfizer (PFE) Stock Analysis</h1>

    <a href="/" style="text-decoration:none;">
        ‚¨ÖÔ∏è Back to Dashboard
    </a>

    <h2>Pfizer Closing Price (last year)</h2>
    <canvas id="priceChart" width="700" height="300"></canvas>

    <h2>21-Day Rolling Volatility</h2>
    <canvas id="volatilityChart" width="700" height="300"></canvas>

    <script>
        const labels = {{ data["dates"]|tojson }};
        const prices = {{ data["prices"]|tojson }};
        const volatility = {{ data["volatility"]|tojson }};

        new Chart(document.getElementById("priceChart"), {
            type: "line",
            data: {
                labels: labels,
                datasets: [{
                    label: "Pfizer Closing Price",
                    data: prices,
                    borderColor: "blue",
                    borderWidth: 2,
                    fill: false
                }]
            }
        });

        new Chart(document.getElementById("volatilityChart"), {
            type: "line",
            data: {
                labels: labels,
                datasets: [{
                    label: "Rolling Volatility (21-day)",
                    data: volatility,
                    borderColor: "red",
                    borderWidth: 2,
                    fill: false
                }]
            }
        });
    </script>
</body>
</html>
